---
title: 七、格式化输出和输入
date: 2021-06-24 18:17:43
tags: [GO]
---
# 前言
格式化输出和输入参数
<!--more-->
# 格式化输出
## fmt包的Print系列函数
- 内容输出到系统的标准输出：Print、Println、Printf
- `Print`函数直接输出内容
- `Println`函数会在输出内容的结尾添加一个换行符。
- `Printf`函数支持格式化输出字符串，不加换行符

### Print函数

```go
var a int = 1
fmt.Print(a)
```

### Println
```go
var a int = 1
fmt.Println(a)
```
### Printf函数
- Printf接受的第一个参数总数字符串，第二个参数是表达式，而字符串中可以包含格式化变量，包含的格式化变量会被替换成表达式的值。

```go
var a int = 1
var str string = "Hello"
fmt.Printf("%d", a)
fmt.Printf("%s", str)
```

### 占位符
- 通用占位符

| 占位符 | 描述             |
| ------ | ---------------- |
| %v     | 值的默认格式表示 |
| %T     | 打印值的类型     |
| %%     | 百分号           |

- 整型，字符串,布尔值

| 占位符 |                             描述                             |
| :----: | :----------------------------------------------------------: |
|   %b   |                         表示为二进制                         |
|   %c   |                    该值对应的unicode码值                     |
|   %d   |                         表示为十进制                         |
|   %o   |                         表示为八进制                         |
|   %x   |                   表示为十六进制，使用a-f                    |
|   %X   |                   表示为十六进制，使用A-F                    |
|   %f   |           有小数部分但无指数部分，如123.456， 同%F           |
|   %U   |          表示为Unicode格式：U+1234，等价于”U+%04X”           |
|   %q   | 该值对应的单引号括起来的go语法字符字面值，必要时会采用安全的转义表示 |
|        |                   直接输出字符串或者[]byte                   |

- 宽度标识符：
- 宽度通过一个紧跟在百分号后面的十进制数指定，如果未指定宽度，则表示值时除必需之外不作填充。精度通过（可选的）宽度后跟点号后跟的十进制数指定。如果未指定精度，会使用默认精度；如果点号后没有跟数字，表示精度为0

| 占位符 |        描述        |
| :----: | :----------------: |
|   %f   | 默认宽度，默认精度 |
|  %9f   |  宽度9，默认精度   |
|  %.2f  |  默认宽度，精度2   |
| %9.2f  |    宽度9，精度2    |
|  %9.f  |    宽度9，精度0    |

# 格式化输入
fmt包中的三个函数：Scan、Scanf、Scanln
## Scan
### 概念
- `fmt.Scan`从标准输入中扫描用户输入的数据，将以空白符分隔的数据分别存入指定的参数。

- 换行符认为是空白符。
- 本函数返回成功扫描的数据个数和遇到的任何错误。
- 遇到错误就不在接受输入

### 示例
```go
var a int
var b string
// num 为输入正确的个数， error 为输入中的错误
num, error = fmt.Scan(&a, &b)
```
## Scanf
### 概念
- Scanf从标准输入扫描文本，根据format参数指定的格式去读取由空白符分隔的值保存到传递给本函数的参数中。
- 本函数返回成功扫描的数据个数和遇到的任何错误。
- 必须完全按照文本格式输入

### 示例

```go
var a int
fmt.Scanf("a = %v", &a)
fmt.Println(a)
// 终端需要输入 a = 1 否则将失败
```

## Scanln
### 概念
- Scanln类似Scan，它在遇到换行就结束扫描，**比较常用**。
- 本函数返回成功扫描的数据个数和遇到的任何错误。
- 遇到错误就不在接受输入。

### 示例

```go
var a int
fmt.Scanln(&a)
fmt.Println(a)
```